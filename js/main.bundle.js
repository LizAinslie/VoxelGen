"use strict";(self.webpackChunklizzy_procedural_site=self.webpackChunklizzy_procedural_site||[]).push([[179],{864:(e,t,n)=>{const r={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(e){var t,n,r;t=void 0!==(e=e||{}).parent?e.parent:document.body,n=void 0!==e.id?e.id:"oldie",(r=this.getWebGLErrorMessage()).id=n,t.appendChild(r)}};var i=n(212),o=n(886),s=new(n(48).ZP);var a=n(678);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var u=16,d=384,w=function(){function e(t,n,r){h(this,e),this.x=t,this.y=n,this.z=r}return l(e,[{key:"getGeometry",value:function(){var e=new i.nvb(5,5,5);e.translate(5*this.x,5*this.y,5*this.z);var t=Math.max(Math.floor(11.25*this.y),0),n=new i.Ilk("hsl(".concat(t,", 70%, 60%)")).toArray().map((function(e){return 255*e})),r=e.getAttribute("position").count,o=new Uint8Array(3*r);o.forEach((function(e,t){o[t]=n[t%3]}));var s=new i.TlE(o,3,!0);return e.setAttribute("color",s),e}}]),e}(),g=function(){function e(t,n,r){h(this,e),this.chunkX=t,this.chunkZ=n,this.blocks=[];for(var i=0;i<u;i++)for(var o=0;o<u;o++){var a=(i+this.chunkX*u)/200,c=(o+this.chunkZ*u)/200,l=.5*(s.noise3D(s.noise3D(a,r,-c)+a,r,s.noise3D(c,r,-a)+c)+1);for(l=Math.round(32*l);l-- >=-1&&!(l<-1);){var d=new w(i,l,o);this.blocks.push(d)}}}return l(e,[{key:"getMesh",value:function(){var e=[];this.blocks.forEach((function(t){e.push(t.getGeometry())}));var t=a.O.mergeBufferGeometries(e,!1),n=new i.YBo({vertexColors:i.jSK}),r=new i.Kj0(t,n),o=this.chunkX*u*5,s=this.chunkZ*u*5;return r.position.set(o,0,s),r}}]),e}(),f=function(){function e(t){h(this,e),this.scene=t,this.chunks=[]}return l(e,[{key:"cubes",get:function(){return 4718592}},{key:"preGenerate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;console.log("Generating ".concat(this.cubes," cubes"));var t=Date.now()/1e5;e=Math.round(e/u);for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.generateChunkAtChunkPos(n,r,t)}},{key:"generateChunkAtChunkPos",value:function(e,t,n){var r=new g(e,t,n);this.chunks.push(r);var i=r.getMesh();this.scene.add(i)}},{key:"generateChunkAtBlockPos",value:function(e,t,n){var r=Math.round(e/u),i=Math.round(t/u);this.generateChunkAtChunkPos(r,i,n)}}]),e}();function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.renderer=new i.CP7({antialias:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.container.appendChild(this.renderer.domElement),this.width=this.renderer.domElement.width,this.height=this.renderer.domElement.height,this.camera=new i.cPb(75,this.width/this.height,1,2e3),this.camera.position.y=320,this.camera.updateProjectionMatrix(),this.controls=new o.z(this.camera,this.renderer.domElement),this.controls.enableDamping=!0,this.controls.autoRotate=!0,this.controls.target.set(960,0,960),this.controls.update(),this.scene=new i.xsS,this.world=new f(this.scene),this.world.preGenerate();var r=new i.Mig(16777215);this.scene.add(r),window.onresize=function(){n.width=window.innerWidth,n.height=window.innerHeight,n.camera.aspect=n.width/n.height,n.camera.updateProjectionMatrix(),n.renderer.setSize(n.width,n.height)},void 0!==window.__THREE_DEVTOOLS__&&(window.__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this.scene})),window.__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this.renderer})))}var t,n,r;return t=e,(n=[{key:"render",value:function(){requestAnimationFrame(this.render.bind(this)),this.controls.update();var e=document.getElementById("loading");"none"!==e.style.display&&(e.style.display="none"),this.renderer.render(this.scene,this.camera)}}])&&p(t.prototype,n),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.webgl?new b(document.getElementById("appContainer")).render():r.addGetWebGLMessage()}},e=>{e.O(0,[216],(()=>{return t=864,e(e.s=t);var t}));e.O()}]);